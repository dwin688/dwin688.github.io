<html style="font-size: 100px;" lang="en">
<head>
    <title>dwin</title>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta content="application/xhtml+xml;charset=UTF-8" http-equiv="Content-Type">
    <meta content="no-cache,must-revalidate" http-equiv="Cache-Control">
    <meta content="no-cache" http-equiv="pragma">
    <meta content="0" http-equiv="expires">
    <meta content="telephone=no, address=no" name="format-detection">
    <meta content="user-scalable=no" name="viewport">
    <meta http-equiv="Access-Control-Allow-Origin" content="https://dev.dfewung.com">
    <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name="viewport">
    <link rel="stylesheet" href="css/base.css?v=20211601">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" type="text/css" href="css/dmaku.css?v=2"/>
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <script src="./js/jquery-3.5.1.min.js"></script>
    <script src="./js/home.js?v=2020118"></script>
    <script src="./lib/device-uuid.js"></script>
    <script src="./mobile/layer.js"></script>
    <script type='text/javascript' src="./js/clipboard.min.js?v=2020111602"></script>
    <script type="text/javascript">
    document.write('<script type="text/javascript" charset="UTF-8" src="https://crr18hs.com/dwin/home.js?v='+new Date().getTime()+'"><\/script>');
    </script>
    <style>
        .download_btn1 {
            position: absolute;
            top: 8.5rem;
            left: 50%;
            max-width: 750px;
            width: 100%;
            -webkit-transform: translateX(-50%);
            -ms-transform: translateX(-50%);
            transform: translateX(-50%);
        }

        .download_btn1 a.btn-bottom {
            position: absolute;
            top: 25%;
            left: 30%;
            width: 40%;
        }

        .download_btn a {
            display: block;
        }

        button {
            border: 0;
        }

        .btn {
            background-color: #ED5565;
            color: #fff;
            padding: 20px;
            margin: 10px 30px;
            border-radius: 5px;
            border-bottom: 3px solid #DA4453;
        }

        a {
            color: darkslateblue;
        }

        .slider {

            width: 90%;
            height: 4rem;
            position: absolute;
            bottom: 3.4rem;
            text-align: center;
            float: left;
            margin-left: 5%;
        }

        .ads {
            position: fixed;
            right: 0.2rem;
            bottom: 1.7rem;
            width: 200px;
            height: 200px;
        }

    </style>
</head>
<body>
<?php
	include_once('config.php');
?>
<div id="contain" hidden>
    <div class='wrap' id='wrap1'>
        <div class='part' id='part1'></div>
    </div>

    <div class='wrap' id='wrap2'>
        <div class='part' id='part2'></div>
    </div>

    <div class='wrap' id='wrap3'>
        <div class='part' id='part3'></div>
    </div>

    <div class='wrap' id='wrap4'>
        <div class='part' id='part4'></div>
    </div>
    <div style=" font-size: 0.2rem;padding-top: 1.3rem;text-align: center;">Đang tiến hành tải số liệu</div>
</div>
<div class="container" id="container">
    <div class="main_background">
        <img class="img-main" src="images/back_imgtony.jpg?v=0208">
<!--        <img class="img-main" src="images/back_img.jpg?v=0209">-->
        <div class="customer_btn ">
            <a class="btn-top" id="btn-top" href="https://core.vchat.vn/service/chat?code=8777&jwt=1f044ef4e8e55fbbf36f860d3c46de2c" target="_blank">
                <img class="img-main" src="images/customer.png?v=1" alt>
            </a>
        </div>
        <div class="ads">
            <img class="img-main" src="er/551.png?" alt>
        </div>
        <div class="download_btn1">
            <a class="btn-bottom download animated tada infinite" id="downloadButton"
               data-animation="none">
                <img class="img-main" src="images/download.png?" alt>
            </a>
        </div>
        <!--<img class="img-main" src="images/22_02.jpg?v=0208">
        <img class="img-main" src="images/22_03.jpg?v=0208">
        <img class="img-main" src="images/22_04.jpg?v=0108"> -->
    </div>
</div>
<footer id="footer" class="">
    <div class="footer_fixed">
        <div class="banner" style="min-height: 1.4rem;">
                <span class="img_icon">
                    <img src="./images/icon.png?v=0608" alt="">
                </span>
            <div class="describe_in_word">
                <div class="label_one">dwin</div>
                <div style="clear: both"></div>
                <div class="label_three">Hàng vạn người chơi Tỉ lệ trúng cao
                    <img class="star" src="./images/star.png">
                </div>
            </div>
            <a data-dl="" class="log_in download" id="log_in">Vào APP</a>
        </div>
        <div class="label_two" style="display: block;padding-left: 0.3rem;">
            <div class="gfb">Đăng ký nhận khuyến mãi</div>
            <div class="lzb"> Một bước thành danh</div>
            <div class="czq">Mỹ nhân luôn bên bạn</div>
        </div>
    </div>
</footer>

<script type="text/javascript">
  $('#contain').hide();
  let uuid = null;
  $.getJSON('https://jsonip.com?callback=?', function (data) {
    uuid = (new DeviceUUID()).get(data.ip);
    console.log(uuid);
  });
  if (!os.isPc) {
    $('.ads').hide();
  }

  !function (win) {
    let win_doc = win.document
      , win_doc_doc = win_doc.documentElement
      , psd_w = 720 / 100
      , evt_fn = 'orientationchange' in win ? 'orientationchange' : 'resize'
      , set_size = function () {
      let page_w = win_doc_doc.clientWidth || 320;
      page_w > 720 && (page_w = 720),
        win_doc_doc.style.fontSize = page_w / psd_w + 'px';
    };
    set_size();
    win_doc.addEventListener && (win.addEventListener(evt_fn, set_size, !1),
      win_doc.addEventListener('DOMContentLoaded', set_size, !1));
  }(window);

  function copy(message) {
    let input = document.createElement('input');
    input.value = message;
    document.body.appendChild(input);
    input.select();
    input.setSelectionRange(0, input.value.length), document.execCommand('Copy');
    document.body.removeChild(input);
  }

  function guid() {
    function S4() {
      return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
    }

    return (S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4());
  }

  let showTimer = null;
  let showRotate = function () {
    showTimer && clearTimeout(showTimer)
    $('#contain').show();
    showTimer = setTimeout(function () {
      $('#contain').hide();
    }, 2000);
  };

  let params = parseUrlParams(),
    context = getContext(),
    w = window,
    ratio = parseFloat(w.devicePixelRatio).toFixed(4),
    data = {
      processorCount: navigator.hardwareConcurrency || -1,
      graphicsDeviceVendor: context['vendor'] || -1,
      graphicsDeviceName: context['renderer'] || -1,
      width: Math.floor(w.screen.width * ratio) || -1,
      height: Math.floor(w.screen.height * ratio) || -1,
    };

  data.channelCode = '03251818345217';
  if (!data.channelCode) {
    if (typeof params['code'] !== 'undefined') {
      data.code = params['code'];
      data.channelCode = proxy_channel;
    } else if (typeof params['channelCode'] !== 'undefined') {
      data.channelCode = params['channelCode'];
    } else {
      data.channelCode = default_channel;
    }
  }

  $('.download').on('click', function () {
    $('#contain').show()

    console.log(data);
    $.ajax({
      url: api_host,
      type: 'POST',
      data: data,
      dataType: 'json',
      success: function (res) {
        console.log(res)
      },
      error: function (res) {
        console.log(res)
      },
      complete: function () {
        $('#contain').hide();
        let isIOS = !!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),
          down = android_download;
        if (isIOS) {
          down = ios_download;
        }
        window.location.href = down;
      }
    });

    let gid = getCookie('twin_uuid')
    if (gid === '') {
      gid = guid();
      setCookie('twin_uuid', gid, 366);
    }
    console.log('gid::' + gid);

    let actData = {'act': 'download', 'type': 1, 'uuid': uuid, 'gid': gid, url:document.referrer, url2:location.href};
    if (!data.code) {
      actData.pid = data.channelCode || default_channel;
    } else {
      actData.type = 2;
      actData.code = data.code;
    }

    console.log(2, actData);
    $.ajax({
      url: localHost,
      type: 'post',
      data: actData,
      dataType: 'json',
      success: function (res) {
        console.log(2, res);
      },
      error: function (res) {
        console.log(2, res);
      }
    });

    return false;
  });

  const clipboard = function (text, event) {
    const cb = new ClipboardJS('.t', {
      text: function () {
        return text
      }
    })
    cb.on('success', function (e) {
      cb.off('error')
      cb.off('success')
    })
    cb.on('error', function (e) {
      cb.off('error')
      cb.off('success')
    })
    cb.onClick(event)
  }
  const btn = document.querySelectorAll('.download');
  btn.forEach((btn) => {
    btn.addEventListener('click', function (e) {
      let sUserAgent = navigator.userAgent,
        isHuawei = sUserAgent.match(/huawei/i),
        isHuawei2 = sUserAgent.match(/dub-/i),
        isHonor = sUserAgent.match(/honor/i),
        isOppo = sUserAgent.match(/oppo/i),
        isVivo = sUserAgent.match(/vivo/i);

      if (false) {
        let text = 'Game Bài dwin xin lưu ý: Nếu trong quá trình cài đặt gặp phải bất cứ thông báo nào xin vui lòng bỏ qua, Game bài dwin không có bất cứ nguy hại nào. Xin quý khách yên tâm sử dụng!';
        if (isOppo || isVivo) {
          text = 'Game Bài dwin xin lưu ý: Nếu trong quá trình cài đặt gặp phải bất cứ thông báo nào xin vui lòng bỏ qua, Game bài dwin không có bất cứ nguy hại nào. Xin quý khách yên tâm sử dụng!';
        }
        layer.open({
          content: text
          , style: 'color:#000;'
          , btn: 'OK'
        });
      }

      let copyText;
      if (data.code !== undefined) {
        copyText = JSON.stringify({
          channel_code: data.channelCode,
          code: data.code,
        });
      } else {
        copyText = JSON.stringify({
          channel_code: data.channelCode
        });
      }
      clipboard(copyText, e);
    });
  });

  function getContext() {
    let e = document.createElement('canvas');
    if (e && 'function' == typeof e.getContext) for (var t = ['webgl', 'webgl2', 'experimental-webgl2', 'experimental-webgl'], n = 0; n < t.length; n++) {
      let a = t[n],
        r = e.getContext(a);
      if (r) {
        let o = {};
        o.context = a,
          o.version = r.getParameter(r.VERSION),
          o.vendor = r.getParameter(r.VENDOR),
          o.sl_version = r.getParameter(r.SHADING_LANGUAGE_VERSION),
          o.max_texture_size = r.getParameter(r.MAX_TEXTURE_SIZE);
        let i = r.getExtension('WEBGL_debug_renderer_info');
        return i && (o.vendor = r.getParameter(i.UNMASKED_VENDOR_WEBGL), o.renderer = r.getParameter(i.UNMASKED_RENDERER_WEBGL)), o
      }
    }
    return {}
  }

  function parseUrlParams(e) {
    let t = (e = e || window.location.href).indexOf('?') + 1,
      n = (e || '?').substring(t).replace(/\+/g, '%20'),
      a = n.indexOf('#');
    0 <= a && (n = n.substring(0, a));
    for (var r = n.split('&'), o = {}, i = 0; i < r.length; i++) {
      let l = r[i].split('='),
        c = decodeURIComponent(l[0] || ''),
        s = decodeURIComponent(l[1] || '');
      c && s && (void 0 === o[c] ? o[c] = s : 'object' == typeof o[c] ? o[c].push(s) : o[c] = [o[c], s])
    }
    return o
  }

  $(function () {
    $('body').css({'overflow-x': 'hidden',});
    let p = ''
    if (!!p) {
      let hm = document.createElement('script');
      hm.src = 'https://hm.baidu.com/hm.js?' + p;
      let s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(hm, s);
    }
  });
</script>
</body>
</html>
